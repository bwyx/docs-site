<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Secrets</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.54d80d9b.css" as="style"><link rel="preload" href="/assets/js/app.283471bd.js" as="script"><link rel="preload" href="/assets/js/2.b1afcc7e.js" as="script"><link rel="preload" href="/assets/js/3.1d0a25f3.js" as="script"><link rel="prefetch" href="/assets/js/10.3fc71941.js"><link rel="prefetch" href="/assets/js/11.23810823.js"><link rel="prefetch" href="/assets/js/12.20e66fa4.js"><link rel="prefetch" href="/assets/js/13.045f9316.js"><link rel="prefetch" href="/assets/js/14.206a0832.js"><link rel="prefetch" href="/assets/js/15.bcae0337.js"><link rel="prefetch" href="/assets/js/16.45c60a40.js"><link rel="prefetch" href="/assets/js/17.7d785ba8.js"><link rel="prefetch" href="/assets/js/18.01c58f90.js"><link rel="prefetch" href="/assets/js/19.55586c80.js"><link rel="prefetch" href="/assets/js/4.19de21b0.js"><link rel="prefetch" href="/assets/js/5.06420f4a.js"><link rel="prefetch" href="/assets/js/6.58e44b89.js"><link rel="prefetch" href="/assets/js/7.3a6f6eca.js"><link rel="prefetch" href="/assets/js/8.61820209.js"><link rel="prefetch" href="/assets/js/9.544eea2a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.54d80d9b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/digger-logo-text.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Overview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">Introduction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/#what-is-digger" class="sidebar-link">What is Digger</a></li><li class="sidebar-sub-header"><a href="/#how-it-works" class="sidebar-link">How it works</a></li></ul></li><li><a href="/overview/concepts.html" class="sidebar-link">Concepts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/overview/concepts.html#project" class="sidebar-link">Project</a></li><li class="sidebar-sub-header"><a href="/overview/concepts.html#service" class="sidebar-link">Service</a></li><li class="sidebar-sub-header"><a href="/overview/concepts.html#environment" class="sidebar-link">Environment</a></li></ul></li><li><a href="/overview/digger-vs-other.html" class="sidebar-link">Digger vs Other</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/overview/digger-vs-other.html#heroku-and-other-paas" class="sidebar-link">Heroku and other PaaS</a></li><li class="sidebar-sub-header"><a href="/overview/digger-vs-other.html#netlify-vercel-firebase-hosting" class="sidebar-link">Netlify, Vercel, Firebase Hosting</a></li><li class="sidebar-sub-header"><a href="/overview/digger-vs-other.html#aws-lightsail" class="sidebar-link">AWS Lightsail</a></li><li class="sidebar-sub-header"><a href="/overview/digger-vs-other.html#aws-elasticbeanstalk" class="sidebar-link">AWS ElasticBeanstalk</a></li><li class="sidebar-sub-header"><a href="/overview/digger-vs-other.html#aws-copilot" class="sidebar-link">AWS Copilot</a></li><li class="sidebar-sub-header"><a href="/overview/digger-vs-other.html#google-cloud-run" class="sidebar-link">Google Cloud Run</a></li><li class="sidebar-sub-header"><a href="/overview/digger-vs-other.html#terraform-cloudformation-pulumi-and-iac" class="sidebar-link">Terraform, Cloudformation, Pulumi and IaC</a></li><li class="sidebar-sub-header"><a href="/overview/digger-vs-other.html#kubernetes" class="sidebar-link">Kubernetes</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/getting-started/installation.html" class="sidebar-link">Install Digger CLI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/getting-started/installation.html#homebrew" class="sidebar-link">Homebrew</a></li><li class="sidebar-sub-header"><a href="/getting-started/installation.html#npm" class="sidebar-link">NPM</a></li><li class="sidebar-sub-header"><a href="/getting-started/installation.html#direct-download" class="sidebar-link">Direct download</a></li><li class="sidebar-sub-header"><a href="/getting-started/installation.html#using-docker" class="sidebar-link">Using Docker</a></li><li class="sidebar-sub-header"><a href="/getting-started/installation.html#test-that-it-works" class="sidebar-link">Test that it works</a></li></ul></li><li><a href="/getting-started/cicd.html" class="sidebar-link">CI/CD Using Digger</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/getting-started/cicd.html#github-actions" class="sidebar-link">Github Actions</a></li><li class="sidebar-sub-header"><a href="/getting-started/cicd.html#gitlab-ci" class="sidebar-link">Gitlab CI</a></li></ul></li><li><a href="/getting-started/node-express.html" class="sidebar-link">Run a Node.js app</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/getting-started/django.html" class="sidebar-link">Run a Django app</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/getting-started/secrets.html" aria-current="page" class="active sidebar-link">Secrets</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/reference-cli.html" class="sidebar-link">CLI reference</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-auth" class="sidebar-link">dg auth</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-project-init" class="sidebar-link">dg project init</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-sync" class="sidebar-link">dg sync</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-service-add" class="sidebar-link">dg service add</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-env-build-env-name" class="sidebar-link">dg env build env_name</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-env-push-env-name" class="sidebar-link">dg env push env_name</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-env-release-env-name" class="sidebar-link">dg env release env_name</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-env-create-env-name" class="sidebar-link">dg env create env_name</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-env-plan-env-name" class="sidebar-link">dg env plan env_name</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-env-apply-env-name" class="sidebar-link">dg env apply env_name</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-env-update-env-name" class="sidebar-link">dg env update env_name</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-env-destroy-env-name" class="sidebar-link">dg env destroy env_name</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-env-describe-env-name" class="sidebar-link">dg env describe env_name</a></li><li class="sidebar-sub-header"><a href="/reference-cli.html#dg-env-list" class="sidebar-link">dg env list</a></li></ul></li><li><a href="/reference-yaml.html" class="sidebar-link">digger.yml reference</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reference-yaml.html#structure" class="sidebar-link">Structure</a></li><li class="sidebar-sub-header"><a href="/reference-yaml.html#defining-resource-dependencies" class="sidebar-link">Defining Resource dependencies</a></li><li class="sidebar-sub-header"><a href="/reference-yaml.html#using-existing-resources" class="sidebar-link">Using existing resources</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Miscellaneous</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/misc/tagging-and-rollbacks.html" class="sidebar-link">Image tagging rollbacks</a></li><li><a href="/misc/composing-terraform-templates.html" class="sidebar-link">Terraform Templates</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="secrets"><a href="#secrets" class="header-anchor">#</a> Secrets</h1> <p>Digger has a unique way of handling secrets by never storing them. We will integrate with yor cloud provider to store your secrets in your own account and then at every release we load the secret in your app. In this way Digger never sees your secrets and sensitive data.</p> <p>Let us look at the steps creating a secret in your AWS account using ParameterStore and integrating this in your service so that your application can read it.</p> <p>First of all go to the parameterstore section by searching for it:</p> <p><img src="/assets/img/parameterstore.639ccd48.png" alt="Parameter Store"></p> <p>Next step is to click on create parameter:</p> <p><img src="/assets/img/parameterstore_view.bfe05265.png" alt="Parameter Store"></p> <p>Fill in a name, Use a &quot;SecureSecret&quot; as a type and then fill in your sensitive value:</p> <p><img src="/assets/img/parameterstore_new.418064f0.png" alt="Parameter Store"></p> <p>Now click on &quot;Create parameter&quot; button. In the next step we need to tell digger to fetch this secret value. To do this we need to prepare the ARN for this value. An ARN value is AWS's unified way of labelling any resource that you create. Usually in most views the ARN value is visible in UI but unfortunately this is not the case for ParameterStore and hence we need to construct it ourselves. Here is the format of the ARN value for ParameterStore:</p> <div class="language- extra-class"><pre class="language-text"><code>arn:aws:ssm:REGION:ACCOUNT_ID:parameter/PARAM_NAME
</code></pre></div><p>Where:</p> <ul><li>ACCOUNT_ID: is the numeric account ID of your AWS account</li> <li>REGION: is the current region code for example us-east-1</li> <li>PARAM_NAME is the name of the parameter as you just typed it in the step above</li></ul> <p>in yoour case lets assume our account ID is 1122334455 and our region is eu-west-1. In this case the ARN value will be:</p> <div class="language- extra-class"><pre class="language-text"><code>arn:aws:ssm:us-east-2:1122334455:parameter/my_shiny_secret
</code></pre></div><p>Keep this value at hand and then head over to <a href="https://app.digger.dev" target="_blank" rel="noopener noreferrer">app.digger.dev<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Navigate to your project and then select the environment you wish to add variable to. Go to the variables section, it should look like this:</p> <p><img src="/assets/img/secret_settings.f972dbc9.png" alt="Parameter Store"></p> <p>Once you add an entry you just need to trigger a release (using <code>dg env release</code> command) and your app can now access the secret under the <code>SHINY</code> environment variable!</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/getting-started/django.html" class="prev">
        Run a Django app
      </a></span> <span class="next"><a href="/reference-cli.html">
        CLI reference
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.283471bd.js" defer></script><script src="/assets/js/2.b1afcc7e.js" defer></script><script src="/assets/js/3.1d0a25f3.js" defer></script>
  </body>
</html>
